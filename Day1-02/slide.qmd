---
title: Statistics 
subtitle: Distributions and Inference
author: EPFL Extension School
institute: World Economic Forum
date: 2023-09-28
editor:
  render-on-save: true
format:
  revealjs:
    code-copy: true
    code-link: true
    embed-resources: false
    smaller: true
    scrollable: false
    theme: ../assets/theme.scss
    logo: ../assets/img/logo_red.png
    code-fold: true
    code-line-numbers: false
    slide-number: true
    chalkboard:
      buttons: true
    preview-links: auto
    menu: false
title-slide-attributes:
  data-background-image: img/AdobeStock_54828145.jpeg
  data-background-size: 100%, cover
  data-background-position: 100%, center
  data-background-opacity: ".15"
from: markdown+emoji
execute:
  enabled: true
  cache: true
jupyter: python3
---

## What's the Plan?
#### This session

<!---
 https://mermaid.js.org/syntax/flowchart.html 
--->

```{mermaid}
flowchart BT
  A([Python]) -----> E([PyMC])
  B([Statistics]) ---> D([A/B testing]) 
  B([Statistics]) ---> C([Bayes Rule]) 
  C([Bayes Rule]) --> D([A/B testing])  
  C([Bayes Rule]) ---> F[(Bayesian A/B Testing in PyMC)]
  E([PyMC]) --> F[(Bayesian A/B Testing in PyMC)]
  D([A/B testing])  ---> F[(Bayesian A/B Testing in PyMC)]
```



::: {.absolute top="75%" bottom="15%"  left="35%" right="80%" width="260" }
::: {.blackbox}
:::
:::


## {chalkboard-buttons="false" background-image="../assets/img/AdobeStock_536776996.jpeg"  background-size="cover"}

 
[Goal of This Session:]{style="font-size: 1.5em; font-weight: bold;"}

<br>


:heavy_check_mark: Python

<br>

&#9744; [Statistical Distributions and Inference]{style="color:#ff412c;"}


## Statistical Distributions
#### A high level view

<br>

> Distributions describe how values are spread over certain ranges.

<br>

Values can ‚Ä¶ 


- come from natural phenomena or
- come from an experiment
- be frequent or infrequent in certain parts of the range
- be discrete or continuous 
- be available to us or not





::: notes
they describe how values are spread over a certain field. for instance, most of you are sitting in this part of the room and few or no one in the other areas or corners
values can be frequent or infrequent in certain areas, e.g. think about how swiss population is spreaded across different regions
values can come from natural phenomena, e.g. 
values can come from an experiment, e.g.
values can be discrete e.g.
values can be continuous e.g.
values can be available to us or not e.g.
:::

## Statistical Distributions
#### A high level view

<br>

> Distributions are all around us, so it makes sense to formulate them in a general way. 

<br>

That's where we have statistical distributions: e.g.
<span class="fragment" fragment-index=1>`Normal`, </span>
<span class="fragment" fragment-index=2>`Beta`, </span>
<span class="fragment" fragment-index=3>`Gamma`, . . .</span>

::: {.fragment fragment-index=1 .absolute top="370" left="50" width="200"}
![](img/normal.png)
:::
::: {.fragment fragment-index=1 .absolute top="470" left="50" width="300"}
![](img/normal1.png)
:::

::: {.fragment fragment-index=2 .absolute top="570" left="400" width="200"}
![](img/beta.png)
:::
::: {.fragment fragment-index=2 .absolute top="300"  left="380"  width="300"}
![](img/beta1.png)
:::

::: {.fragment fragment-index=3 .absolute top="370" right="80" width="150"}
![](img/gamma.png)
:::
::: {.fragment fragment-index=3 .absolute top="470" right="10" width="300"}
![](img/gamma1.png)
:::

## Statistical Distributions
#### Properties

<br>

> The shape of statistical distributions can be characterized by their parameters, 

<br>

or alternatively by: 

::: columns
::: {.column width="50%" }
- a measure of center, e.g. <span class="fragment highlight-red" fragment-index=0> mean </span>
- a measure of spread, e.g. <span class="fragment highlight-red" fragment-index=1> variance </span>
- a measure of asymmetry, e.g. <span class="fragment highlight-red" fragment-index=2> skewness </span>
- a measure that describe its tails, e.g. <span class="fragment highlight-red" fragment-index=3> kurtosis </span>
:::
::: {.column width="50%" }
<div style="position:relative; width:640px; height:480px; margin:0 auto;">
  <img class="fragment current-visible" data-fragment-index="0" src="img/mean.png"     style="position:absolute;top:0;left:0;" />
  <img class="fragment current-visible" data-fragment-index="1" src="img/variance.png" style="position:absolute;top:0;left:0;" />
  <img class="fragment current-visible" data-fragment-index="2" src="img/skew.png"     style="position:absolute;top:0;left:0;" />
  <img class="fragment current-visible" data-fragment-index="3" src="img/kurtosis.png" style="position:absolute;top:0;left:0;" />
</div>

::: 
:::




## Statistical Distributions
#### Properties

<br>

> You may see that distribution are named differently.

<br>
For instance:

<br>

::: columns
::: {.column width="50%" }
probability `density` function ‚òû PDF

probability `mass` function ‚òû PMF

`cumulative` distribution function ‚òû CDF

:::
::: {.column width="50%" }
<div style="position:relative; width:640px; height:480px; margin:0 auto;">
  <img class="fragment current-visible" data-fragment-index="0" src="img/pdf.png"     style="position:absolute;top:0;left:0;" />
  <img class="fragment current-visible" data-fragment-index="1" src="img/cdf.png" style="position:absolute;top:0;left:0;" />
  <img class="fragment current-visible" data-fragment-index="2" src="img/pmf.png"     style="position:absolute;top:0;left:0;" />
  </div>
::: 
:::
<!---
 Each of these functions has its own properties and purpose. 
--->


## Statistical Inference
#### Hypothesis testing

<br>

> What if we want to know more about parameters of a distribution: 

- we only observe a sample from the distribution
- we can learn about the parameters from the sample

<!-- <br> -->


![](img/AdobeStock_430401370.jpeg){width="50%" height="50%" fig-align="center" }


::: notes
certain property: eg mean in Normal or proportion p in Bernoulli
:::

## Statistical Inference
#### Hypothesis testing

<br>

> Learning from a sample versus learning from full distribution‚ùì 

<br>

How big is the gap? üßê

- this is an inferential question
- the gap is negligible for large samples

## Hands-on session warm-up
#### Example of Normal distribution

<br>

```{python}
#| echo: true
#| eval: true 
#| code-fold: false
#| code-line-numbers: 1,4,7
from scipy.stats import norm

# set the mean and standard deviation
m, s = 0, 1 

# find the theoretical properties
mean, var, skew, kurt = norm.stats(m, s, moments='mvsk')
display(mean, var, skew, kurt)
```

## Hands-on session warm-up
#### Example of Normal distribution
<br>

::: panel-tabset

### plot


```{python}
#| echo: true
#| eval: true
#| code-fold: true
#| code-line-numbers: 6,9
import numpy as np
import matplotlib.pyplot as plt
from scipy.stats import norm

# drawing 100000 samples from normal(m,s) distribution 
sample = norm.rvs(m, s, size = (100000,1)) 

# plot probability distribution
plt.hist(sample, bins='auto', density=True) 

plt.xlabel('sample values')
plt.title('Normal PDF')
plt.show()
```

### data

```{python}
#| echo: false
#| eval: true
from scipy.stats import norm

# drawing 100000 samples from normal(m,s) distribution 
sample = norm.rvs(m, s, size = (100000,1))
display(sample) 
```

:::

## {chalkboard-buttons="false" background-image="../assets/img/Handson_AdobeStock_316152114.jpeg" background-position="center"  background-repeat="no-repeat" background-opacity="0.5" background-size="cover"}

![](../assets/img/python-logo-inkscape.svg){width="30%" height="30%" fig-align="center"}

Let's begin:

- Open the Jupyter notebook in `Day1-02/handson.ipynb`
- Follow the instructions in the notebook, and provide your answers in the code cells
- You will be able to find the solution notebook by the end of the day in `Day1-02/handson_solution.ipynb`
- [Please be back here at 11:30]{style="color:#ff412c; font-weight: bold;"}


::: footer
:::

## {chalkboard-buttons="false" background-image="../assets/img/Quiz_AdobeStock_439133763.jpeg" background-position="center"  background-repeat="no-repeat" background-opacity="0.9" background-size="cover"}


## {chalkboard-buttons="false" background-image="../assets/img/QA_AdobeStock_206674448.jpeg" background-position="center"  background-repeat="no-repeat" background-opacity="0.9" background-size="cover"}

## {chalkboard-buttons="false" background-image="../assets/img/Lunch_AdobeStock_561720123.jpeg"  background-size="100%, cover" background-position="center" background-opacity="0.5"}

::: footer

:::











